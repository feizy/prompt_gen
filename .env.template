# 环境变量模板文件
# Environment Variables Template File

# =============================================================================
# 数据库配置 (Database Configuration)
# =============================================================================
DATABASE_URL=postgresql://prompt_gen_user:CHANGE_THIS_PASSWORD@postgres:5432/prompt_gen
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=prompt_gen
DATABASE_USER=prompt_gen_user
DATABASE_PASSWORD=CHANGE_THIS_PASSWORD
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=30

# =============================================================================
# GLM API配置 (GLM API Configuration)
# =============================================================================
GLM_API_KEY=your_glm_api_key_here
GLM_BASE_URL=https://open.bigmodel.cn/api/paas/v4
GLM_MODEL=glm-4
GLM_TIMEOUT=60
GLM_MAX_RETRIES=3
GLM_RATE_LIMIT_RPM=200
GLM_RATE_LIMIT_TPM=30000

# =============================================================================
# 应用配置 (Application Configuration)
# =============================================================================
SECRET_KEY=CHANGE_THIS_SECRET_KEY_IN_PRODUCTION
DEBUG=False
ENVIRONMENT=production
ALLOWED_HOSTS=["localhost", "127.0.0.1", "your-domain.com"]
CORS_ORIGINS=["https://your-domain.com"]
CORS_ALLOW_CREDENTIALS=True

# =============================================================================
# Redis配置 (Redis Configuration) - 可选
# =============================================================================
REDIS_URL=redis://:CHANGE_THIS_PASSWORD@redis:6379/0
REDIS_PASSWORD=CHANGE_THIS_PASSWORD
REDIS_DB=0
REDIS_MAX_CONNECTIONS=20

# =============================================================================
# 安全配置 (Security Configuration)
# =============================================================================
SECURE_SSL_REDIRECT=True
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_HSTS_PRELOAD=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
X_FRAME_OPTIONS=DENY

# =============================================================================
# 日志配置 (Logging Configuration)
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE=logs/app.log
LOG_MAX_BYTES=10485760  # 10MB
LOG_BACKUP_COUNT=5
LOG_FORMAT=json

# =============================================================================
# WebSocket配置 (WebSocket Configuration)
# =============================================================================
WS_HEARTBEAT_INTERVAL=30
WS_CONNECTION_TIMEOUT=300
WS_MAX_CONNECTIONS=1000

# =============================================================================
# 监控配置 (Monitoring Configuration) - 可选
# =============================================================================
PROMETHEUS_ENABLED=True
PROMETHEUS_PORT=9090
GRAFANA_ENABLED=True
GRAFANA_PORT=3001
GRAFANA_USER=admin
GRAFANA_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD

# =============================================================================
# 邮件配置 (Email Configuration) - 可选
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_TLS=True
EMAIL_FROM=noreply@your-domain.com

# =============================================================================
# 文件存储配置 (File Storage Configuration) - 可选
# =============================================================================
UPLOAD_PATH=uploads/
MAX_UPLOAD_SIZE=10485760  # 10MB
ALLOWED_EXTENSIONS=[".txt", ".pdf", ".doc", ".docx"]

# =============================================================================
# 性能配置 (Performance Configuration)
# =============================================================================
WORKERS=4
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=65
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100

# =============================================================================
# 缓存配置 (Cache Configuration)
# =============================================================================
CACHE_DEFAULT_TIMEOUT=3600
CACHE_KEY_PREFIX=prompt_gen
CACHE_VERSION=1

# =============================================================================
# 特性开关 (Feature Flags)
# =============================================================================
ENABLE_ANALYTICS=True
ENABLE_USER_REGISTRATION=False
ENABLE_RATE_LIMITING=True
ENABLE_CACHING=True
ENABLE_MONITORING=True

# =============================================================================
# 域名配置 (Domain Configuration)
# =============================================================================
DOMAIN=your-domain.com
PROTOCOL=https
API_BASE_URL=https://your-domain.com/api
WS_BASE_URL=wss://your-domain.com/ws

# =============================================================================
# 备份配置 (Backup Configuration)
# =============================================================================
BACKUP_ENABLED=True
BACKUP_SCHEDULE="0 2 * * *"  # 每天凌晨2点
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=your-backup-bucket
BACKUP_S3_REGION=us-west-2

# =============================================================================
# 第三方服务配置 (Third-party Services) - 可选
# =============================================================================
# SENTRY_DSN=https://your-sentry-dsn
# GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
# STRIPE_PUBLIC_KEY=pk_test_xxxxxxxxxxxxxx
# STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxx

# =============================================================================
# 开发环境特定配置 (Development Specific)
# =============================================================================
# DEBUG=True
# LOG_LEVEL=DEBUG
# CORS_ORIGINS=["http://localhost:3000", "http://127.0.0.1:3000"]
# RELOAD=True

# =============================================================================
# 测试环境特定配置 (Testing Specific)
# =============================================================================
# DATABASE_URL=postgresql://prompt_gen_user:test@localhost/prompt_gen_test
# LOG_LEVEL=WARNING
# SECRET_KEY=test-secret-key
# GLM_API_KEY=test-key

# =============================================================================
# 生产环境部署说明 (Production Deployment Notes)
# =============================================================================
# 1. 修改所有包含 "CHANGE_THIS" 的配置项
# 2. 设置强密码和密钥
# 3. 配置有效的域名和SSL证书
# 4. 启用安全配置选项
# 5. 设置监控和日志
# 6. 配置备份策略
# 7. 限制CORS origins为具体域名
# 8. 设置适当的超时和限制值

# =============================================================================
# 快速开始检查清单 (Quick Start Checklist)
# =============================================================================
# □ 设置 DATABASE_PASSWORD
# □ 设置 SECRET_KEY (使用 openssl rand -hex 32)
# □ 设置 GLM_API_KEY
# □ 设置 DOMAIN 为实际域名
# □ 配置 ALLOWED_HOSTS 和 CORS_ORIGINS
# □ 设置 REDIS_PASSWORD (如果使用Redis)
# □ 配置 GRAFANA_PASSWORD (如果启用监控)
# □ 检查所有其他配置项